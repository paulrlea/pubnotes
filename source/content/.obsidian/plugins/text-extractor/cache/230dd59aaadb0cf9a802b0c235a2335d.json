{"path":"Notes/@Summer2024/ExPhys/Johnson Noise /Lea_Paul_Section1_JohnsonNoise/Lea_Paul_Section1_JohnsonNoise.pdf","text":"JohnsonNoisePaulLeaandAlexWeissSection1Objective:ThisinvestigationisintednedtodeterminetheBoltzmannconstantbymeasuringthefluctuationsofelectronswithinaresistor.ThesefluctationswillbeamplifiedbyaseriesofOp-Ampstoincreasethesmallinitialvoltagefluctuationstoareadablelevel.Thismeasurementwillbedependentontempratureandresistanceoftheresistor.Additionally,thefrequenciesoftheJohnsonnoisemustbeselectedfromthewiderspectrumofnoiseusingaband-passfilter.Thefilterandamplifierwereconstructedinsections1and2.Section3.1Thissectionmeasuredtheresponsecharacteristicsoftheband-passfilter,calibratingitsuchthatthegainintegralwouldbeusableintheupcomingJohnsonNoisemeasurements.ProcedureWebeganbyselectingseveralfrequenciestotest,intherangefrom1-100kHz.Foreachoneofthesefrequencyvalues,wemeasuredtheinputandoutputvoltageusingtheoscilloscope.Afterobtainingthesevoltagemeasurements,wewereabletocalculatethesystemgainandthereforeobtainedthecorrectcalibrationmetricsfortheJohnsonnoiseData:ExperimentalData:(figure1)Pk-PkVoltage1kHz3kHz5kHz25kHz50kHz100kHzChannel1(output)Channel2(inpiut)CalculatedGain:(figure2)importmatplotlib.pyplotaspltfromscipy.odrimportModel,RealData,ODRimportscipy.integrateasitgimportnumpyasnpimportpandasaspdimportmathxs=1000,3000,5000,25000,50000,100000#Hzxs=np.ravel(xs)ys=0.046,0.092,0.110,0.051,0.014,0.0041kHz3kHz5kHz25kHz50kHz100kHzCalculatedgain0.0460.0920.1100.0510.0140.004AnalysisTheoreticalGainCalculations:HighPassFilter:Ahighpassfilterisdesignedtolethigherfrequenciespassthroughwithoutbeingattenuated,whileattenuatinglowerfrequencies.Theformulaforthecutofffrequencyonahighpassfilterisasfollows:Wewantedahigh-passcutoffofaround5kHz,sosettingto5kHzwecansolveforrequiredvaluesofwhileusingacapacitorLowPassFilterAlowpassfilteristheoppositeofahighpassfilter,whereitallowsthelowerfrequenciestopassthroughwhileattenuatinghigherfrequenciesout.Thecutofffrequencyisgivenbythesameequation:Wewantedalow-passcutoffofaround20kHz,andweusedthesamecapacitor.Solvingforrequiredresistance:ActualResistancesandcapacitance's(figure3)ActualValuesRCLowPassFilterHighPassFilterTheoreticalCutoffValuesusingmeasuredcomponents:Lowpass:Highpass:TheoreticalGainCurve:defexp(params,x):returnnp.multiply(params[0],np.exp(params[1]*x))defquadShift(params,x):returnparams[0]*(x+params[3])**2+params[1]*(x+params[3])+params[2]#Fittingcurvetosecondhalfofcurve:model=Model(exp)data=RealData(xs[2:],ys[2:])params=5,-0.00003odr=ODR(data,model,beta0=params)odr_result=odr.run()params_fit=odr_result.betacovar_fit=odr_result.sd_betachisquared=odr_result.res_varV_fit=exp(params_fit,xs)expParams=params_fit#Fittinglinetofirsthalfofcurvemodel=Model(quadShift)data=RealData(xs[:3],ys[:3])params=-0.0000000012,0.00001,0.113,-5300odr=ODR(data,model,beta0=params)odr_result=odr.run()params_fit=odr_result.betacovar_fit=odr_result.sd_betaV_fit1=quadShift(params_fit,xs)Figure4:Duelcurve-fitmodelstogeneratefrequencyresponsecurvesforband-passfiltercircuit.Conclusion:Inthissectionwesuccessfullyfitapairofmathematicalmodelstomodelthefrequencyresponseofourband-passfilter/amplifiercircuit.Thesemodelsqualitativelyfitthedatawell,however,thechisquaredparametertellsusthatthedatamodelishighlyover-constrained.Thislogicallymakessense,wehavelimiteddatapointsandseveralparameterstofitto.Despitethis,weareabletousethesemodelstoevaluatetheintegralthatweneedforsection3.2.Section3.2Afterwecalibratedtheexperimentalsetup'sbandpassfilterandobtainedthetotalop-ampgain,wewerereadytotakemeasurementsofthegeneratedJohnsonnoiseusingavarietyofresistors.ProcedurequadParams=params_fitplt.plot(xs,ys,label=\"Data\")plt.plot(xs[:3],V_fit1[:3],label=\"QuadraticFit\")plt.plot(xs[2:],V_fit[2:],alpha=0.7,label=\"FittedExponential\")plt.ylabel(\"TotalCircuitGain\")plt.xlabel(\"FrequencyinkHz\")plt.title(\"Gainasafunctionoffrequency\")plt.gcf().text(0.95,0.5,\"ExponentialFunction:\"+str(np.round(expParams[0],4))+\"x*plt.gcf().text(0.95,0.45,\"QuadraticFunction:\"+str(np.round(quadParams[0],10))+\"(x\"plt.gcf().text(0.95,0.4,\"$\\\\chi$/NDF:\"+str(np.round(chisquared,8)))plt.legend()plt.show()#DefiningfunctionthatreturnsgainatanyfrequencyviaapiecewiseequationinHzdefgainFunc(freq):iffreq<5:returnquadShift(quadParams,freq)else:returnexp(expParams,freq)Webeganthisportionofthelabbyremovingthefunctiongeneratorandvoltagedividercircuitfromtheexperimentalsetup.Afterthesecomponentswereremoved,aselectionofresistorsfrombetween10and10wereselectedtoserveasthegeneratorsoftheJohnsonnoise.Atthispointtheroom'sairtemperaturewasrecordedforusageduringtheanalysis.Finally,werecordedtheoscilloscopeoutputoftheJohnsonnoisefor6differentresistancevalues.Figure5.1:Experimentallayout:Figure5.2:LabeledDigitalPictureDataRoomtemperature:26degreesCelsiusOp-Ampgain:2419.946xResistanceforeachtrial:(Figure5.2)TrialR123456labeleddiagramhereAnalysis:WeevaluatethisintegraltofindtheexpectationvalueofForeachvalueofRwewillevaluatethisintegral.Valueofintegral:3305.1656354835154integGsqr=itg.quad(gainFunc,0,+np.inf)print(\"Valueofintegral:\",integGsqr[0])defread_csv(filename):df=pd.read_csv(filename)data=np.array(df)returndatatrial1=read_csv(\"JohnsonNoise/Section3.2/Trial1/F0000CH1.CSV\")trial2=read_csv(\"JohnsonNoise/Section3.2/Trial2/F0001CH1.CSV\")trial3=read_csv(\"JohnsonNoise/Section3.2/Trial3/F0002CH1.CSV\")trial4=read_csv(\"JohnsonNoise/Section3.2/Trial4/F0003CH1.CSV\")trial5=read_csv(\"JohnsonNoise/Section3.2/Trial5/F0004CH1.CSV\")trial6=read_csv(\"JohnsonNoise/Section3.2/Trial6/F0005CH1.CSV\")volt1=np.average(trial1[:,1]**2)volt2=np.average(trial2[:,1]**2)volt3=np.average(trial3[:,1]**2)volt4=np.average(trial4[:,1]**2)volt5=np.average(trial5[:,1]**2)volt6=np.average(trial6[:,1]**2)resistances=50.8,326.1,815,1200,3851,9950resistances=np.ravel(resistances)resistUnc=0.5,3,7,10,40,90volts=volt1,volt2,volt3,volt4,volt5,volt6volts=np.ravel(volts)volts=volts/2419.946#CompensatingforOp-AmpsvoltUnc=np.multiply(volts,0.03)defboltz(params,R):returnparams[0]*R+params[1]defconstant(param0):returnparam0/(299.15*4*integGsqr[0])model=Model(boltz)Figure6:Allcollecteddatalinearlyfittoboltzmannconstantmodel.data=RealData(resistances,volts,sy=voltUnc,sx=resistUnc)params=1.3E-23,0odr=ODR(data,model,beta0=params)odr_result=odr.run()params_fit=odr_result.betacovar_fit=odr_result.sd_betachisquared=odr_result.res_varV_fit1=boltz(params_fit,resistances)plt.errorbar(resistances,volts,xerr=resistUnc,yerr=voltUnc,label=\"Data\")plt.plot(resistances,V_fit1,label=\"FittedLine\")plt.gcf().text(0.95,0.5,\"CalculatedBoltzmannConstant:\"+str(np.round(constant(params_plt.gcf().text(0.95,0.45,\"$\\\\chi$/NDF:\"+str(chisquared))plt.title(\"Resistancesvsinducedvoltages\")plt.xlabel(\"Resistance\")plt.ylabel(\"Voltages\")plt.legend()plt.show()trimmedResistance=np.append(resistances[:3],resistances[4:])trimmedVoltage=np.append(volts[:3],volts[4:])trimmedSV=np.append(voltUnc[:3],voltUnc[4:])trimmedSR=np.append(resistUnc[:3],resistUnc[4:])data=RealData(trimmedResistance,trimmedVoltage,sy=trimmedSV)params=1.3E-23,0odr=ODR(data,model,beta0=params)odr_result=odr.run()params_fit=odr_result.betacovar_fit=odr_result.sd_betachisquared=odr_result.res_varV_fit1=boltz(params_fit,trimmedResistance)plt.errorbar(trimmedResistance,trimmedVoltage,xerr=trimmedSR,yerr=trimmedSV,labeplt.plot(trimmedResistance,V_fit1,label=\"FittedLine\")plt.gcf().text(0.95,0.5,\"CalculatedBoltzmannConstant:\"+str(np.round(constant(params_plt.gcf().text(0.95,0.45,\"$\\\\chi$/NDF:\"+str(chisquared))plt.title(\"Resistancesvsinducedvoltages4thdatapointremoved\")plt.xlabel(\"Resistance\")plt.ylabel(\"Voltages\")Conclusion:Thissectionyieldedmixedresults,ourdataacquisitionhadlargediscrepanciesfromthemodel.Thisisevidencedbythelargechi-squaredmodelinfigure6of255.9.Thissignalsaverypoorcorrelationtothemodel.ThisinitialanalysisadditionallyyieldedacalculatedBoltzmannconstantthatwasincoherentwiththeliteraturevaluesoftheBoltzmannconstantbyafactorofapproximately10,000.Possiblereasonsfortheselargediscrepanciesmayincludetemperaturefluctuationsorerrantspikesinbackgroundradiationinterferingwithreadingsontheoscilloscope.Thedata'sfitwasimprovedbyremovingthe4thdatapoint,whichyieldedaChi-squaredvalueof16.8,anapproximatetenfolddecreaseoverthepreviousfit.Thissignaledamuchbetterfit,andthevalueofthecalculatedBoltzmannconstantwasalsocorrespondinglyclosertotheliteraturevalues,butstill3ordersofmagnitudeawayfromthecorrectvalue.Thisexperimentcouldbeimprovedbyaddingmorerobusttemperaturemonitoringcapabilities,aswellasEMradiationshieldingaroundtheexperimentalsetupintheformofaFaradaycage.Section3.3:JohnsonNoise-TeachspinApproachProcedureTheexperimentwassetupbyfollowingtheparametersoutlinedinthe\"TeachspinApproach\"document.Thebandpassfiltercomponents,gain,multiplierandoutputwereallsettospecificvalues.Afterwehadsetuptheexperimentwiththeappropriatesettings,wecollecteddatafordifferentresistancevaluesusingahigh-precisiondigitalmultimeter.Thesedatavaluesalongwiththecorrespondingresistanceswererecordedintoatableforfurtheranalysis.###DataPre-ampgain:600xAmpGain:400xTotalGain:240000xHighPassCornerFreq:0.3kHzplt.legend()plt.show()LowPassCornerFreq:100kHz:99.7kHz|Resistance|Voltage||------------|----------||1Ohm|38.90mV||10Ohms|39.03mV||100Ohms|40.05mV||1kOhms|49.94mV||10kOhms|149.01mV||100kOhms|861.1mV|AnalysisMeasuredVoltagefollowsthisformula:WhereistheJohnsonnoiseandrepresentstheintrinsicnoiseofthesystem.TakingtheRMSofthissystem:Wecanestimatethefirstmeasuredresistancevaluetobeclosetotheintriniscnoisevalueandsubtractitfromthemeasurements.Afterthis,wecancompensateforthegaininthesystemtomeasurethepre-amplifiedvoltage.Thenwefitthevoltageasafunctionofresistancemeasurements.resistances=1,10,100,1000,10000,100000voltage=0.03890,0.03903,0.04005,0.04994,0.14901,0.8611resistances=np.ravel(resistances)voltage=np.ravel(voltage)voltage=voltage-0.03890voltage=voltage[1:]voltage=voltage/240000voltage=voltage**2resistances=resistances[1:]defconstant(param0):returnparam0/(299.15*4*99.7)sy=0.01,0.01,0.01,0.01,0.1sy=np.ravel(sy)sy=sy/40000sy=sy**2data=RealData(resistances,voltage,sy=sy)params=1.3E-23,0odr=ODR(data,model,beta0=params)odr_result=odr.run()params_fit=odr_result.betacovar_fit=odr_result.sd_betachisquared=odr_result.res_varV_fit1=boltz(params_fit,resistances)boltzC=constant(params_fit[0])plt.errorbar(resistances,voltage,yerr=sy,label=\"Data\",linestyle=\"\",marker=\"plt.plot(resistances,V_fit1,label=\"FittedLine\")plt.gcf().text(0.95,0.5,\"CalculatedBoltzmannConstant:\"+str(np.round(boltzC,25))+\"$plt.gcf().text(0.95,0.45,\"$\\\\chi$/NDF:\"+str(chisquared))plt.title(\"ResistancesvsinducedvoltagesinTeachSpindevice\")plt.xlabel(\"Resistance\")plt.ylabel(\"Voltages\")plt.legend()plt.show()Conclusions:Thissectionyieldedmuchbettervaluesthentheprevioussection.Thedatafitthelinearmodelmuchmoreaccurately,leadingtotheliterature-accuratevaluewithinthecalculatederrorfortheBoltzmannconstant.Thelastdatapointat100hadalargeerrorduetothemultimeterauto-rangingtothevoltrangeasopposedtothemilli-voltrangebefore,butthemodelfitsalloftheotherpointsverywell,withaoverallchi-squaredvalueof0.79,signifyingawell-constrained,accuratefit.","libVersion":"0.5.0","langs":""}